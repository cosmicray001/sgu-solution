<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0051)http://acm.sgu.ru/problem.php?contest=0&problem=122 -->
<HTML><HEAD><TITLE>122. The book</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META http-equiv=Expires content=Дата>
<META http-equiv=Cache-Control content=no-cache>
<META http-equiv=pragma content=no-cache>
<META 
content="ACM, programming contest, programming, contest, informatics, ioi, saratov, ICPC, программирование, информатика, алгоритм, саратов, контест" 
name=keywords>
<META 
content="That site consists of some amount of programming problems. Online Contester system check your solution right now. You can participate in programming contests. Train your programming skills." 
name=description><LINK href="style.css" type=text/css rel=stylesheet>
<STYLE type=text/css>TD {
	FONT-SIZE: 9pt
}
</STYLE>

<META content="MSHTML 6.00.2716.2200" name=GENERATOR></HEAD>
<BODY>
<TABLE width="95%">
  <TBODY>
  <TR>
    <TD>
      <H3><B>
      <P align=center>122. The book </P></H3></B>
      <P align=center>Time Limit: 0.4 sec, Memory Limit: 1.5 MB </P>
      <P align=justify></P>
      <P align=justify>There is a group of N (2&lt;=N&lt;=1000) people which are 
      numbered 1 through N, and everyone of them has not less than [ (N+1) / 2 ] 
      friends. A man with number 1 has the book, which others want to read. 
      Write the program which finds a way of transferring the book so that it 
      will visit every man only once, passing from the friend to the friend, 
      and, at last, has come back to the owner. <I><B>Note</B></I>: if A is a 
      friend of B then B is a friend of A. </P>
      <P align=justify></P><B>
      <P align=justify>Input</P></B>
      <P align=justify>First line of input contains number N. Next N lines 
      contain information about friendships. (i+1)-th line of input contains a 
      list of friends of i-th man. </P>
      <P align=justify></P><B>
      <P align=justify>Output</P></B>
      <P align=justify>If there is no solution then your program must output 'No 
      solution'. &nbsp; Else your program must output exactly N+1 number: this 
      sequence should begin and should come to end by number 1, any two 
      neighbours in it should be friends, and any two elements in it, except for 
      the first and last, should not repeat. </P>
      <P align=justify></P>
      <P align=justify>Sample Input</P><FONT face="Courier New"><PRE>4
2 3
1 4
1 4
2 3
</PRE>
      <P align=justify></P></FONT>
      <P align=justify>Sample Output</P><FONT face="Courier New"><PRE>1 3 4 2 1
</PRE></FONT></TD></TR></TBODY></TABLE></BODY></HTML>
