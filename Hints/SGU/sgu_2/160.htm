<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0051)http://acm.sgu.ru/problem.php?contest=0&problem=160 -->
<HTML><HEAD><TITLE>Saratov State University :: Online Contester</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META content=??? name=keywords>
<META content=??? name=description><LINK href="160.files/style-800.css" 
type=text/css rel=stylesheet>
<META content="MSHTML 6.00.2716.2200" name=GENERATOR></HEAD>
<BODY style="FONT-SIZE: 9pt" text=#000000 vLink=#336699 aLink=#336699 
link=#336699 bgColor=#f3f6f9>
<DIV align=center>
<DIV align=center>
<H4>160. Magic Multiplying Machine </H4></DIV>
<DIV align=center>time limit per test: 2 sec.<BR>memory limit per test: 65536 
KB</DIV>
<DIV align=center>input: standard input<BR>output: standard 
output</DIV><BR><BR><BR>
<DIV align=left>Well known Las-Vegas casino "Big Jo" has recently introduced the 
new playing machine, called Magic Multiplying Machine (MMM). MMM has N levers 
and one big red button. Each lever is marked with some integer number ranging 
from 1 to M, thus i-th lever is marked with number ai. <BR>A player who wishes 
to play on MMM inserts a coin into a special slot. After that she chooses some 
levers and pulls them. After she has made her choice, she presses the big red 
button. MMM blinks all its lights, rings its bells, plays diRerent tunes and 
after that declares whether the player has won the game. <BR>The algorithm for 
determining whether the player has won is the following. If the player has 
pulled some subset S in {1, 2, ... ,N} of levers, her score is the product of 
numbers that these levers are marked with, taken modulo M (if the player has 
pulled no levers, her score is 1): <BR>
<CENTER><IMG src=""></CENTER><BR>The player has won the game if her score is 
maximal possible for the given machine. <BR>Given the description of some MMM 
determine which levers should be pulled to win the game. </DIV>
<DIV align=left><BR><B>Input</B></DIV>
<DIV align=left>The first line of the input file contains two integer numbers 1 
&lt;= N &lt;= 10000 and 2 &lt;= M &lt;= 1 000. The second line contains N 
integer numbers a1, a2, ..., aN ranging from 1 to M. </DIV>
<DIV align=left><BR><B>Output</B></DIV>
<DIV align=left>In the first line of the output file print one integer number - 
the score that should be obtained to win the game. In the second line print in 
ascending order the numbers of levers that should be pulled to obtain this score 
(levers are numbered starting from one). If there are several solutions, output 
any one. </DIV>
<DIV align=left><BR><B>Sample test(s)</B></DIV>
<DIV align=left><BR>Input</DIV>
<DIV align=left><FONT face="Courier New"></DIV>
<DIV align=left><PRE></PRE></DIV>
<DIV align=left>Sample input #1 <BR>4 6 <BR>1 2 3 4 <BR><BR>Sample input #2 
<BR>4 4 <BR>4 4 4 4 <BR></DIV>
<DIV align=left><PRE></PRE></DIV>
<DIV align=left></FONT></DIV>
<DIV align=left><BR>Output</DIV>
<DIV align=left><FONT face="Courier New"></DIV>
<DIV align=left><PRE></PRE></DIV>
<DIV align=left>Sample output #1 <BR>4 <BR>1 4 <BR><BR>Sample output #2 <BR>1 
</DIV>
<DIV align=left><PRE></PRE></DIV>
<DIV align=left></FONT></DIV>
<DIV align=left><BR><B>Note</B></DIV>
<DIV align=left><BR>You can download pdf version of this task <A 
href="http://acm.sgu.ru/materials/p160.pdf">here</A> </DIV>
<DIV align=left>
<DIV align=right><A href="http://acm.sgu.ru/submit.php?problem=160">[submit]</A> 
</DIV></DIV>
<DIV align=left>
<DIV align=right><A 
href="http://acm.sgu.ru/forum.php?contest=0&amp;problem=160">[forum]</A> 
</DIV></DIV>
<DIV align=left>
<HR>
</DIV>
<TABLE cellSpacing=7 align=left>
  <TBODY>
  <TR>
    <TD>Author:</TD>
    <TD>Andrew Lopatin, Nikolay Durov </TD></TR>
  <TR>
    <TD>Resource:</TD>
    <TD>ACM ICPC 2002-2003 NEERC, Northern Subregion </TD></TR>
  <TR>
    <TD>Date:</TD>
    <TD>November, 2002 
</TD></TR></TBODY></TABLE><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<TABLE class=tb cellSpacing=0 cellPadding=0 width="100%">
  <TBODY>
  <TR>
    <TD>
      <TABLE cellSpacing=1 width="100%">
        <TBODY>
        <TR>
          <TD bgColor=#ffffff>
            <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
              <TBODY>
              <TR style="BACKGROUND-COLOR: #ffffff">
                <TD align=left>Server time: 2004-01-13 20:14:28</TD>
                <TD align=right><A href="mailto:acm@cs.sgu.ru" 
                  target=_top>Online Contester</A> Team © 2002 - 2003. All 
                  rights 
  reserved.</TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></DIV></BODY></HTML>
