<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0051)http://acm.sgu.ru/problem.php?contest=0&problem=110 -->
<HTML><HEAD><TITLE>110. Dungeon</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META http-equiv=Expires content=Дата>
<META http-equiv=Cache-Control content=no-cache>
<META http-equiv=pragma content=no-cache>
<META 
content="ACM, programming contest, programming, contest, informatics, ioi, saratov, ICPC, программирование, информатика, алгоритм, саратов, контест" 
name=keywords>
<META 
content="That site consists of some amount of programming problems. Online Contester system check your solution right now. You can participate in programming contests. Train your programming skills." 
name=description><LINK href="style.css" type=text/css rel=stylesheet>
<STYLE type=text/css>TD {
	FONT-SIZE: 9pt
}
</STYLE>

<META content="MSHTML 6.00.2716.2200" name=GENERATOR></HEAD>
<BODY>
<TABLE width="95%">
  <TBODY>
  <TR>
    <TD>
      <H3><B>
      <P align=center>110. Dungeon </P></H3></B>
      <P align=center>Time Limit: 0.25 sec, Memory Limit: 1 MB </P>
      <P align=justify></P>
      <P align=justify>The mission of space explorers found on planet M the vast 
      dungeon. One of the dungeon halls is fill with the bright spheres. The 
      explorers find out that the light rays reflect from the surface of the 
      spheres according the ordinary law (the incidence angle is equal to the 
      reflectance angle, the incidence ray, the reflected ray and the 
      perpendicular to the sphere surface lay in the one plane). The ancient 
      legend says that if the light ray will reflect from the spheres in the 
      proper order, than the door to the room with very precious ancient 
      knowledge will open. You are not to guess the right sequence; your task is 
      much simpler. You are given the positions and the radii of the spheres, 
      the place where the laser shot was made and the direction of light 
      propagation. And you must find out the sequence in which the light will be 
      reflected from the spheres. </P>
      <P align=justify></P><B>
      <P align=justify>Input</P></B>
      <P align=justify>The first line of input contains the single integer n 
      (1&#8804;n&#8804;50) - the amount of the spheres. The next n lines contain the 
      coordinates and the radii of the spheres xi, yi, zi, ri (the integer 
      numbers less or equal to 10000 by absolute value). The last line contains 
      6 real numbers - the coordinates of two points. The first one gives the 
      coordinates of the place of laser shot, and the second gives the direction 
      in which it was made (the second point is the point on the ray). The 
      starting point of the ray lies strictly outside of any sphere. </P>
      <P align=justify></P><B>
      <P align=justify>Output</P></B>
      <P align=justify>Your program must output the sequence of sphere numbers 
      (spheres are numbers from 1 as they was given in input), from which the 
      light ray was reflected. If the ray will reflect more the 10 times, than 
      you must output first 10, then a space and the word 'etc.' (without 
      quotes). Notice: if the light ray goes at a tangent to the sphere you must 
      assume that the ray was reflected by the sphere. </P>
      <P align=justify></P>
      <P align=justify>Sample Input 1</P><FONT face="Courier New"><PRE>1 
0 0 2 1 
0 0 0 0 0 1
</PRE>
      <P align=justify></P></FONT>
      <P align=justify>Sample Output 1</P><FONT face="Courier New"><PRE>1
</PRE></FONT>
      <P align=justify>Sample Input 2</P><FONT face="Courier New"><PRE>2 
0 0 2 1 
0 0 -2 1 
0 0 0 0 0 100
</PRE>
      <P align=justify></P></FONT>
      <P align=justify>Sample Output 2</P><FONT face="Courier New"><PRE>1 2 1 2 1 2 1 2 1 2 etc.
</PRE></FONT></TD></TR></TBODY></TABLE></BODY></HTML>
